YUI.add("inline-editor",function(e){e.InlineEditor=e.Base.create("inlineEditor",e.Widget,[e.WidgetPosition,e.WidgetStack,e.WidgetPositionAlign],{renderUI:function(){var e=this.get("contentBox");e.addClass("popover bottom").append('<div class="arrow"></div><h3 class="popover-title">Edit Text</h3><div class="popover-content"><input type="text" class="input-medium" /><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-small btn-primary save">Save</button></div><div class="btn-group"><button class="btn btn-small btn-warning cancel">Cancel</button></div></div></div>'),this._inputNode=e.one("input")},bindUI:function(){var t=this.get("boundingBox");t.delegate("key",e.bind(this._onEscEnter,this),"down:esc, enter","input"),t.delegate("click",e.bind(this._doDone,this),".save"),t.delegate("click",e.bind(this._doCancel,this),".cancel")},show:function(t,n){this.set("visible",!0),this.align(t,[e.WidgetPositionAlign.TL,e.WidgetPositionAlign.BL]);var r=this._inputNode;n=n?n:"",r.set("value",n),r.select(),r.focus()},_onEscEnter:function(e){e.keyCode===27?this._doCancel():e.keyCode===13&&this._doDone(),e.halt()},_doDone:function(e){this.hide(),this.fire("done",{value:this._inputNode.get("value")})},_doCancel:function(e){this.hide(),this.fire("cancel")}},{})});
