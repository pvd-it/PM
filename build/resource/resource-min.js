YUI.add("resource",function(e){var t=e.Array;e.Resource=e.Base.create("resource",e.Model,[],{idAttribute:"_id",initializer:function(t){if(t&&t.clientId)this._set("clientId",t.clientId);else{var n=this.constructor.NAME+"_"+ ++e.Resource.lastCount;this._set("clientId",n)}t&&t.assignedTasks?this._set("assignedTasks",t.assignedTasks):this._set("assignedTasks",[])},toJSON:function(){var e=this.getAttrs();return delete e.destroyed,delete e.initialized,this.idAttribute!=="id"&&delete e.id,e},assignTask:function(e){var n=this,r=new t(n.get("assignedTasks"));r.push(e),n.set("assignedTasks",r)},unassignTask:function(e){var n=this,r=new t(n.get("assignedTasks")),i=t.indexOf(r,e);t.remove(r,i),n.set("assignedTasks",r)}},{ATTRS:{name:{},startDate:{},endDate:{},email:{},cost:{},type:{},_id:{},assignedTasks:{}}})});
