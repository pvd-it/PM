YUI.add("app-dialog-manager",function(e){var t;e.namespace("App").DialogManager=t=function(){},t.prototype={initializer:function(){var t=this;e.Do.after(t._setupDialogManager,t,"render"),e.on("*:appAction",e.bind(t._interceptAppAction,t)),t.dialogManagerMessages=e.Intl.get("app-dialog-manager")},_setupDialogManager:function(){var t=new e.ConfirmationDialog({srcNode:e.one(".modal"),width:450,zIndex:1050,centered:!0,modal:!0,visible:!1,render:!0}),n=this;t.on("confirm",e.bind(n._provideConfirmation,n)),n.confirmationDialog=t},_interceptAppAction:function(e){var t=this;e.confirmationRequired&&!e.hasConfirmation&&(t._lastActionEvent=e,t.confirmationDialog.set("message",t.dialogManagerMessages[e.category+":"+e.action]),t.confirmationDialog.show())},_provideConfirmation:function(){var t=this._lastActionEvent;t.hasConfirmation=!0,e.fire(t.category+":appAction",t)}}});
