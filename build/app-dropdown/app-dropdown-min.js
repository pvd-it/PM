YUI.add("app-dropdown",function(e){var t;e.namespace("App").Dropdown=t=function(){},t.prototype={initializer:function(){var t=this;e.Do.after(t._setupDropdown,t,"render")},_setupDropdown:function(){var t=this,n=t.get("container");n.on("click",e.bind(t._handleClickDropdown,t))},_handleClickDropdown:function(t){var n=this,r=t.target,i,s,o,u;n._lastActiveDropdown&&(n._closeDropdown(),i=n._lastActiveDropdown.next(),i.contains(r)&&(s=i.getAttribute("data-dropdown-category"),o=r.getAttribute("data-dropdown-action"),u=r.getAttribute("data-action-confirmation"),e.fire(s+":appAction",{action:o,confirmationRequired:u==="true"?!0:!1,category:s}))),r.hasClass("dropdown-toggle")||r.hasClass("caret")&&r.get("parentNode").hasClass("dropdown-toggle")?(r=r.hasClass("caret")?r.get("parentNode"):r,n._lastActiveDropdown!==r?(n._lastActiveDropdown=r,n._openDropdown()):n._lastActiveDropdown=null,t.halt()):n._lastActiveDropdown=null},_closeDropdown:function(){this._lastActiveDropdown.get("parentNode").removeClass("open")},_openDropdown:function(){this._lastActiveDropdown.get("parentNode").addClass("open")}}});
