YUI.add("datatable-tree",function(e){var t="activeRowIndex",n="UP",r="DOWN",i,s,o,u,a,f,l;e.DataTableTreeExt=i=function(){},i.prototype={initializer:function(){var t=this;s=t.getClassName("tree","row","collapsed"),o=t.getClassName("tree","row","expanded"),u=t.getClassName("tree","row","hidden"),a=t.getClassName("tree","row","depth",""),f=t.getClassName("tree","col","knob"),l=t.getClassName("tree","col"),e.Array.each(t.get("columns"),function(e,n){e.isTreeKnob?(e.formatter=function(e){e.className=e.className+" "+f,e.value="",e.data.visible?e.data.children.size()>0&&(e.data.collapsed?e.rowClass=e.rowClass+" "+s:e.rowClass=e.rowClass+" "+o):e.rowClass=e.rowClass+" "+u},t._knobColIndex=n):e.isTreeColumn&&(e.formatter=function(e){e.rowClass=e.rowClass+" "+a+e.data.depthLevel,e.className=e.className+" "+l},t._treeColIndex=n)},t),t.keyBindings.plain=e.merge(t.keyBindings.plain,{13:t.toggle})},toggle:function(){var e=this,n=e.get(t),r=e.get("data").item(n),i=r.get("collapsed"),s=r.get("children").size();if(s===0)return;i=!i,r.set("collapsed",i,{src:"UI"})},moveUp:function(){var e=this,r=e.get(t),i=e.get("data");for(r--;r>=0;r--)if(i.item(r).get("visible"))break;e._direction=n,e.set(t,r)},moveDown:function(){var e=this,n=e.get(t),i=e.get("data"),s=i.size();for(n++;n<s;n++)if(i.item(n).get("visible"))break;e._direction=r,e.set(t,n)}},e.DataTableTree=e.Base.mix(e.DataTableNavigate,[i])});
