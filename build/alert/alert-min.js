YUI.add("alert",function(e){var t=e.Node,n,r=e.ClassNameManager.getClassName;n=function(e){n.superclass.constructor.apply(this,arguments)},n.NAME="alert",n.CLOSE_BUTTON_CLASS="close",n.CLOSE_BUTTON_TEMPLATE='<button class="'+n.CLOSE_BUTTON_CLASS+'" type="button">\u00d7</button>',n.HEADING_CLASS=r(n.NAME,"heading"),n.HEADING_TEMPLATE='<h4 class="'+n.HEADING_CLASS+'"></h4>',n.MESSAGE_CLASS=r(n.NAME,"message"),n.MESSAGE_TEMPLATE='<p class="'+n.MESSAGE_CLASS+'"></p>',n.ERROR="error",n.WARNING="warning",n.SUCCESS="success",n.INFO="info",n.ATTRS={type:{},message:{}},e.Alert=n=e.extend(n,e.Widget,{renderUI:function(){var e=this.get("contentBox");e.addClass("alert alert-block"),this._renderCloseButton(e),this._renderHeading(e),this._renderMessage(e)},bindUI:function(){this.after("typeChange",this._afterTypeChange),this.after("messageChange",this._afterMessageChange),this.closeButton.on("click",e.bind(this._closeClickHandler,this))},syncUI:function(){this._uiSetAlertType(this.get("type")),this._uiSetAlertMessage(this.get("message"))},show:function(){n.superclass.constructor.prototype.show.apply(self,arguments),this.get("contentBox").setStyles({opacity:1,display:block})},_closeClickHandler:function(e){this.close()},close:function(e){var t=this;if(e){t.hide();return}this.get("contentBox").hide("fadeOut",null,function(){t.hide(),t.fire("closed")})},_afterTypeChange:function(e){e.newVal&&this._uiSetAlertType(e.newVal),e.prevVal&&this._uiUnSetAlertType(e.prevVal)},_afterMessageChange:function(e){this._uiUnSetAlertType(e.newVal)},_uiSetAlertType:function(e){var t="alert-"+e,r;switch(e){case n.ERROR:r="Error";break;case n.WARNING:r="Warning";break;case n.SUCCESS:r="Success";break;case n.INFO:r="Info";break;default:throw new Error("Invalid alert type:"+e)}this.heading.set("innerHTML",r+"!"),this.get("contentBox").addClass(t)},_uiUnSetAlertType:function(e){var t="alert-"+e;this.get("contentBox").removeClass(t)},_uiSetAlertMessage:function(e){this.message.set("innerHTML",e)},_renderCloseButton:function(e){var r=e.one("."+n.CLOSE_BUTTON_CLASS);r||(r=t.create(n.CLOSE_BUTTON_TEMPLATE),e.append(r)),this.closeButton=r},_renderHeading:function(e){var r=e.one("."+n.HEADING_CLASS);r||(r=t.create(n.HEADING_TEMPLATE),e.append(r)),this.heading=r},_renderMessage:function(e){var r=e.one("."+n.MESSAGE_CLASS);r||(r=t.create(n.MESSAGE_TEMPLATE),e.append(r)),this.message=r}})});
